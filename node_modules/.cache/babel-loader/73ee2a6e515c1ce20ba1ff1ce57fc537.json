{"ast":null,"code":"var _jsxFileName = \"/Users/gela/Downloads/Gym dashboard analytics/src/components/Table/Table.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport Modal from \"@mui/material/Modal\";\nimport { v4 as uuidv4 } from \"uuid\"; // Import uuid\n\nimport dumbbellImage from \"../assets/dumbbell.png\";\nimport barImage from \"../assets/bar.png\";\nimport \"./Table.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst makeStyle = status => {\n  if (status === \"Approved\") {\n    return {\n      background: \"rgb(145 254 159 / 47%)\",\n      color: \"green\"\n    };\n  } else if (status === \"Pending\") {\n    return {\n      background: \"#ffadad8f\",\n      color: \"red\"\n    };\n  } else {\n    return {\n      background: \"#59bfff\",\n      color: \"white\"\n    };\n  }\n};\n\nconst descriptions = {\n  Dumbbells: \"A dumbbell is a versatile piece of fitness equipment consisting of a short bar with weights attached at each end. These weights can be adjusted to vary the resistance for different exercises. Dumbbells come in various shapes, sizes, and materials, ranging from traditional iron or steel to more modern designs featuring rubber-coated ends for better grip and protection. They are commonly used for strength training and muscle building, offering a wide range of exercises targeting different muscle groups.\",\n  \"Gym Bar\": \"On the other hand, a gym bar, often referred to as a barbell, is a long, straight bar typically used for heavy lifting exercises such as squats, deadlifts, and bench presses. It usually has weights attached at both ends, known as weight plates, which can be customized to adjust the overall resistance. Gym bars come in different lengths and thicknesses, catering to various lifting preferences and body sizes. They are a staple in weightlifting and powerlifting routines, providing stability and balance during compound exercises that engage multiple muscle groups simultaneously.\"\n};\n\nconst BasicTable = _ref => {\n  _s();\n\n  let {\n    handleUpdateOrder,\n    handleDeleteOrder\n  } = _ref;\n  const [selectedRow, setSelectedRow] = useState(null);\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [modalOpen, setModalOpen] = useState(false);\n  const [newImageUrl, setNewImageUrl] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [description, setDescription] = useState(\"\");\n  const [productName, setProductName] = useState(\"\");\n  const [creatingOrder, setCreatingOrder] = useState(false); // State to track order creation\n\n  const [error, setError] = useState(\"\"); // State to store validation error message\n\n  const [rows, setRows] = useState([]);\n  useEffect(() => {\n    // Simulate fetching data from a mock API\n    const fetchData = async () => {\n      try {\n        // Simulate delay for fetching data\n        await new Promise(resolve => setTimeout(resolve, 1000)); // Mock data\n\n        const data = [{\n          id: uuidv4(),\n          name: \"Dumbbells\",\n          trackingId: 12345,\n          date: \"2024-05-26\",\n          status: \"Approved\",\n          imageUrl: dumbbellImage\n        }, {\n          id: uuidv4(),\n          name: \"Gym Bar\",\n          trackingId: 67890,\n          date: \"2024-05-25\",\n          status: \"Pending\",\n          imageUrl: barImage\n        }];\n        setRows(data);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleRowClick = (name, imageUrl) => {\n    setSelectedRow(name);\n    setImageUrl(imageUrl);\n    setNewImageUrl(\"\"); // Reset new image URL\n\n    setDescription(descriptions[name]);\n    setModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setModalOpen(false);\n\n    if (file && newImageUrl) {\n      handleUpdate();\n    } // Reset states after closing the modal\n\n\n    setFile(null);\n    setNewImageUrl(\"\");\n    setDescription(\"\");\n    setProductName(\"\");\n    setCreatingOrder(false);\n    setError(\"\"); // Clear error message\n  };\n\n  const handleUpdate = () => {\n    if (file) {\n      const updatedRows = rows.map(row => {\n        if (row.name === selectedRow) {\n          return { ...row,\n            imageUrl: newImageUrl || imageUrl,\n            description: description,\n            name: productName || row.name\n          };\n        }\n\n        return row;\n      });\n      setRows(updatedRows);\n      console.log(\"Image updated:\", newImageUrl || imageUrl);\n    }\n  };\n\n  const handleDelete = () => {\n    if (selectedRow) {\n      const updatedRows = rows.filter(row => row.name !== selectedRow);\n      console.log(\"Deleted:\", selectedRow); // Log the deleted row\n\n      setRows(updatedRows);\n      setSelectedRow(null);\n      setModalOpen(false);\n    }\n  };\n\n  const handleCreateOrder = () => {\n    setCreatingOrder(true); // Set creatingOrder state to true to open the modal\n\n    setModalOpen(true); // Open the modal for creating order\n  };\n\n  const handleConfirmCreateOrder = () => {\n    // Perform validation\n    if (!productName) {\n      setError(\"Product name is required.\");\n      return;\n    }\n\n    if (!file || !newImageUrl) {\n      setError(\"Please upload an image.\");\n      return;\n    } // Create a new order\n\n\n    const newOrder = {\n      id: uuidv4(),\n      name: productName,\n      trackingId: 323,\n      date: new Date().toISOString().slice(0, 10),\n      status: \"Pending\",\n      imageUrl: newImageUrl || \"\" // Use the uploaded image URL\n\n    };\n    console.log(\"New Order:\", newOrder); // Log the new order details\n    // Update the rows state with the new order\n\n    setRows([...rows, newOrder]); // Close the modal and reset states\n\n    setModalOpen(false);\n    setCreatingOrder(false);\n    setProductName(\"\");\n    setNewImageUrl(\"\");\n    setFile(null);\n    setError(\"\"); // Clear error message\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Table\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Recent Gym Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), rows.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCreateOrder,\n      disabled: creatingOrder,\n      style: {\n        backgroundColor: \"blue\",\n        color: \"white\",\n        padding: \"10px\",\n        border: \"none\",\n        cursor: \"pointer\",\n        borderRadius: \"5px\",\n        // Add hover effect\n        \":hover\": {\n          backgroundColor: \"darkblue\"\n        }\n      },\n      children: \"Create Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      style: {\n        boxShadow: \"0px 13px 20px 0px #80808029\",\n        maxHeight: \"400px\",\n        overflowY: \"scroll\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 650\n        },\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Tracking ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          style: {\n            color: \"white\"\n          },\n          children: rows.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n            sx: {\n              \"&:last-child td, &:last-child th\": {\n                border: 0\n              },\n              cursor: \"pointer\",\n              backgroundColor: selectedRow === row.name ? \"lightgray\" : \"inherit\"\n            },\n            onClick: () => handleRowClick(row.name, row.imageUrl),\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: row.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: row.trackingId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: row.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status\",\n                style: makeStyle(row.status),\n                children: row.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this)]\n          }, row.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: modalOpen,\n      onClose: handleCloseModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Modal\",\n        style: {\n          textAlign: \"left\"\n        },\n        children: creatingOrder ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Create New Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: productName,\n            placeholder: \"Product Name\",\n            onChange: e => setProductName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"red\"\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: e => {\n              const selectedFile = e.target.files[0];\n              const reader = new FileReader();\n\n              reader.onload = e => {\n                setNewImageUrl(e.target.result);\n                setFile(selectedFile);\n              };\n\n              reader.readAsDataURL(selectedFile);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleConfirmCreateOrder,\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCloseModal,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: selectedRow\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: newImageUrl || imageUrl,\n            alt: selectedRow,\n            style: {\n              maxWidth: \"100%\",\n              maxHeight: \"100%\",\n              margin: \"auto\",\n              display: \"block\",\n              border: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"black\",\n              fontSize: 20,\n              maxWidth: \"80%\",\n              margin: \"0 auto\"\n            },\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleUpdate,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(selectedRow),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BasicTable, \"k54/B+1mMvE/ZDSIKBO3yg2fMm0=\");\n\n_c = BasicTable;\nexport default BasicTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"BasicTable\");","map":{"version":3,"sources":["/Users/gela/Downloads/Gym dashboard analytics/src/components/Table/Table.jsx"],"names":["React","useState","useEffect","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Modal","v4","uuidv4","dumbbellImage","barImage","makeStyle","status","background","color","descriptions","Dumbbells","BasicTable","handleUpdateOrder","handleDeleteOrder","selectedRow","setSelectedRow","imageUrl","setImageUrl","modalOpen","setModalOpen","newImageUrl","setNewImageUrl","file","setFile","description","setDescription","productName","setProductName","creatingOrder","setCreatingOrder","error","setError","rows","setRows","fetchData","Promise","resolve","setTimeout","data","id","name","trackingId","date","console","handleRowClick","handleCloseModal","handleUpdate","updatedRows","map","row","log","handleDelete","filter","handleCreateOrder","handleConfirmCreateOrder","newOrder","Date","toISOString","slice","length","backgroundColor","padding","border","cursor","borderRadius","boxShadow","maxHeight","overflowY","minWidth","textAlign","e","target","value","selectedFile","files","reader","FileReader","onload","result","readAsDataURL","maxWidth","margin","display","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport Modal from \"@mui/material/Modal\";\nimport { v4 as uuidv4 } from \"uuid\"; // Import uuid\nimport dumbbellImage from \"../assets/dumbbell.png\";\nimport barImage from \"../assets/bar.png\";\nimport \"./Table.css\";\n\nconst makeStyle = (status) => {\n  if (status === \"Approved\") {\n    return {\n      background: \"rgb(145 254 159 / 47%)\",\n      color: \"green\",\n    };\n  } else if (status === \"Pending\") {\n    return {\n      background: \"#ffadad8f\",\n      color: \"red\",\n    };\n  } else {\n    return {\n      background: \"#59bfff\",\n      color: \"white\",\n    };\n  }\n};\n\nconst descriptions = {\n  Dumbbells:\n    \"A dumbbell is a versatile piece of fitness equipment consisting of a short bar with weights attached at each end. These weights can be adjusted to vary the resistance for different exercises. Dumbbells come in various shapes, sizes, and materials, ranging from traditional iron or steel to more modern designs featuring rubber-coated ends for better grip and protection. They are commonly used for strength training and muscle building, offering a wide range of exercises targeting different muscle groups.\",\n  \"Gym Bar\":\n    \"On the other hand, a gym bar, often referred to as a barbell, is a long, straight bar typically used for heavy lifting exercises such as squats, deadlifts, and bench presses. It usually has weights attached at both ends, known as weight plates, which can be customized to adjust the overall resistance. Gym bars come in different lengths and thicknesses, catering to various lifting preferences and body sizes. They are a staple in weightlifting and powerlifting routines, providing stability and balance during compound exercises that engage multiple muscle groups simultaneously.\",\n};\n\nconst BasicTable = ({ handleUpdateOrder, handleDeleteOrder }) => {\n  const [selectedRow, setSelectedRow] = useState(null);\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [modalOpen, setModalOpen] = useState(false);\n  const [newImageUrl, setNewImageUrl] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [description, setDescription] = useState(\"\");\n  const [productName, setProductName] = useState(\"\");\n  const [creatingOrder, setCreatingOrder] = useState(false); // State to track order creation\n  const [error, setError] = useState(\"\"); // State to store validation error message\n\n  const [rows, setRows] = useState([]);\n\n  useEffect(() => {\n    // Simulate fetching data from a mock API\n    const fetchData = async () => {\n      try {\n        // Simulate delay for fetching data\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n        // Mock data\n        const data = [\n          {\n            id: uuidv4(),\n            name: \"Dumbbells\",\n            trackingId: 12345,\n            date: \"2024-05-26\",\n            status: \"Approved\",\n            imageUrl: dumbbellImage,\n          },\n          {\n            id: uuidv4(),\n            name: \"Gym Bar\",\n            trackingId: 67890,\n            date: \"2024-05-25\",\n            status: \"Pending\",\n            imageUrl: barImage,\n          },\n        ];\n        setRows(data);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const handleRowClick = (name, imageUrl) => {\n    setSelectedRow(name);\n    setImageUrl(imageUrl);\n    setNewImageUrl(\"\"); // Reset new image URL\n    setDescription(descriptions[name]);\n    setModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setModalOpen(false);\n    if (file && newImageUrl) {\n      handleUpdate();\n    }\n    // Reset states after closing the modal\n    setFile(null);\n    setNewImageUrl(\"\");\n    setDescription(\"\");\n    setProductName(\"\");\n    setCreatingOrder(false);\n    setError(\"\"); // Clear error message\n  };\n\n  const handleUpdate = () => {\n    if (file) {\n      const updatedRows = rows.map((row) => {\n        if (row.name === selectedRow) {\n          return {\n            ...row,\n            imageUrl: newImageUrl || imageUrl,\n            description: description,\n            name: productName || row.name,\n          };\n        }\n        return row;\n      });\n      setRows(updatedRows);\n      console.log(\"Image updated:\", newImageUrl || imageUrl);\n    }\n  };\n\n  const handleDelete = () => {\n    if (selectedRow) {\n      const updatedRows = rows.filter((row) => row.name !== selectedRow);\n      console.log(\"Deleted:\", selectedRow); // Log the deleted row\n      setRows(updatedRows);\n      setSelectedRow(null);\n      setModalOpen(false);\n    }\n  };\n\n  const handleCreateOrder = () => {\n    setCreatingOrder(true); // Set creatingOrder state to true to open the modal\n    setModalOpen(true); // Open the modal for creating order\n  };\n\n  const handleConfirmCreateOrder = () => {\n    // Perform validation\n    if (!productName) {\n      setError(\"Product name is required.\");\n      return;\n    }\n\n    if (!file || !newImageUrl) {\n      setError(\"Please upload an image.\");\n      return;\n    }\n\n    // Create a new order\n    const newOrder = {\n      id: uuidv4(),\n      name: productName,\n      trackingId: 323,\n      date: new Date().toISOString().slice(0, 10),\n      status: \"Pending\",\n      imageUrl: newImageUrl || \"\", // Use the uploaded image URL\n    };\n\n    console.log(\"New Order:\", newOrder); // Log the new order details\n\n    // Update the rows state with the new order\n    setRows([...rows, newOrder]);\n\n    // Close the modal and reset states\n    setModalOpen(false);\n    setCreatingOrder(false);\n    setProductName(\"\");\n    setNewImageUrl(\"\");\n    setFile(null);\n    setError(\"\"); // Clear error message\n  };\n\n  return (\n    <div className=\"Table\">\n      <h3>Recent Gym Orders</h3>\n      {rows.length > 0 && (\n        <button\n          onClick={handleCreateOrder}\n          disabled={creatingOrder}\n          style={{\n            backgroundColor: \"blue\",\n            color: \"white\",\n            padding: \"10px\",\n            border: \"none\",\n            cursor: \"pointer\",\n            borderRadius: \"5px\",\n            // Add hover effect\n            \":hover\": {\n              backgroundColor: \"darkblue\",\n            },\n          }}\n        >\n          Create Order\n        </button>\n      )}\n      <TableContainer\n        component={Paper}\n        style={{\n          boxShadow: \"0px 13px 20px 0px #80808029\",\n          maxHeight: \"400px\",\n          overflowY: \"scroll\",\n        }}\n      >\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Product</TableCell>\n              <TableCell align=\"left\">Tracking ID</TableCell>\n              <TableCell align=\"left\">Date</TableCell>\n              <TableCell align=\"left\">Status</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody style={{ color: \"white\" }}>\n            {rows.map((row) => (\n              <TableRow\n                key={row.id}\n                sx={{\n                  \"&:last-child td, &:last-child th\": { border: 0 },\n                  cursor: \"pointer\",\n                  backgroundColor:\n                    selectedRow === row.name ? \"lightgray\" : \"inherit\",\n                }}\n                onClick={() => handleRowClick(row.name, row.imageUrl)}\n              >\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.name}\n                </TableCell>\n                <TableCell align=\"left\">{row.trackingId}</TableCell>\n                <TableCell align=\"left\">{row.date}</TableCell>\n                <TableCell align=\"left\">\n                  <span className=\"status\" style={makeStyle(row.status)}>\n                    {row.status}\n                  </span>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Modal open={modalOpen} onClose={handleCloseModal}>\n        <div className=\"Modal\" style={{ textAlign: \"left\" }}>\n          {creatingOrder ? (\n            <>\n              <h3>Create New Order</h3>\n              <input\n                type=\"text\"\n                value={productName}\n                placeholder=\"Product Name\"\n                onChange={(e) => setProductName(e.target.value)}\n              />\n              {error && <p style={{ color: \"red\" }}>{error}</p>}{\" \"}\n              {/* Display error message */}\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={(e) => {\n                  const selectedFile = e.target.files[0];\n                  const reader = new FileReader();\n                  reader.onload = (e) => {\n                    setNewImageUrl(e.target.result);\n                    setFile(selectedFile);\n                  };\n                  reader.readAsDataURL(selectedFile);\n                }}\n              />\n              <button onClick={handleConfirmCreateOrder}>Confirm</button>\n              <button onClick={handleCloseModal}>Cancel</button>\n            </>\n          ) : (\n            <>\n              <h3>{selectedRow}</h3>\n              <img\n                src={newImageUrl || imageUrl}\n                alt={selectedRow}\n                style={{\n                  maxWidth: \"100%\",\n                  maxHeight: \"100%\",\n                  margin: \"auto\",\n                  display: \"block\",\n                  border: \"none\",\n                }}\n              />\n              <p\n                style={{\n                  color: \"black\",\n                  fontSize: 20,\n                  maxWidth: \"80%\",\n                  margin: \"0 auto\",\n                }}\n              >\n                {description}\n              </p>\n              <button onClick={handleUpdate}>Update</button>\n              <button onClick={() => handleDelete(selectedRow)}>Delete</button>\n            </>\n          )}\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default BasicTable;\n"]},"metadata":{},"sourceType":"module"}